"use client";

import React, { createContext, useContext, useState, useEffect } from "react";

export type Language = "en" | "pt" | "es";

interface LanguageContextType {
    language: Language;
    setLanguage: (lang: Language) => void;
    t: (key: string) => string;
}

type TranslationMap = {
    [key: string]: string;
};

const translations: Record<Language, TranslationMap> = {
    en: {
        dashboard: "Dashboard",
        send: "Send",
        receive: "Receive",
        history: "History",
        settings: "Settings",
        profile: "Profile",
        available_balance: "Available Balance",
        reserved_balance: "Reserved Balance",
        recent_transactions: "Recent Transactions",
        quick_actions: "Quick Actions",
        send_points: "Send Points",
        buy: "Buy",
        view_all: "View All",
        cashback_program: "Cashback Program",
        welcome: "Welcome",
        operational_system: "Operational System",
        premium_user: "Premium User",
        logout: "Log out",
        send_pix: "Send PIX",
        points_to_cash: "Points to Cash",
        schedule: "Schedule",
        future_payments: "Future Payments",
        cashback_ready: "You have 350 points ready for redemption.",
        view_details: "View Details",
        admin_panel: "Admin Panel",
        administration: "Administration",
        managing_director: "Managing Director",
        command_center: "Command Center",
        admin_shield_status: "Core Infrastructure: Active & Shielded",
        admin_overview: "Overview",
        admin_members: "Members",
        admin_movements: "Movements",
        admin_fees: "Fees",
        admin_audit: "Audit",
        admin_reject: "Reject",
        admin_confirm_terminate: "Confirm Account Closure",
        admin_confirm_reject: "Confirm Rejection",
        admin_terminate_warning: "This action will permanently close the account. The user will be removed from the platform and will not be able to recover access.",
        admin_reject_warning: "The user will be blocked and their KYC status will be marked as REJECTED. They will not be able to use the platform.",
        admin_type_to_confirm: "Type the name to confirm",
        cancel: "Cancel",
        processing: "Processing...",
        overview: "Overview",
        members: "Members",
        financial_ledger: "Financial Ledger",
        auditing: "Auditing",
        gross_volume: "Gross Volume (GMV)",
        revenue_spread: "Revenue (Spread)",
        avg_ticket: "Average Ticket",
        daily_flow: "Settled Today",
        sales_performance: "Sales Performance Flow",
        sales_desc: "Consolidated volume by capture method",
        conversion_rate: "Conversion Rate",
        payment_efficiency: "Payment Efficiency",
        export_ledger: "Export Ledger",
        search_accounts: "Search accounts...",
        risk_status: "Risk Status",
        available_balance_admin: "Available Balance",
        actions: "Actions",
        pix_instant: "Instant Settlement",
        boleto_d2: "D+2 Liquidation",
        pointify_links: "Pointify Links",
        backoffice: "Backoffice",
        users: "Users",
        finances: "Finances",
        operational_system_label: "OPERATIONAL SYSTEM",
        main_menu_label: "MAIN MENU",
        logout_label: "Log out",
        total_control: "Total Control",
        active_status: "Active",
        admin_root: "Admin Root",
        pointify_user: "Pointify User",
        online_now: "Online now",
        seen_days_ago: "Seen 2 days ago",
        revoke: "Revoke",
        notifications: "Notifications",
        lang_region: "Language & Region",
        connected_devices: "Connected Devices",
        discard: "Discard",
        save_preferences: "Save Preferences",
        how_it_works: "How it Works",
        benefits: "Benefits",
        for_whom: "For Whom",
        login: "Log in",
        create_account: "Create Account",
        platform_points: "Points Payment Platform",
        future_is_points: "The future of money is based on points.",
        hero_desc: "Convert, send and receive points with the agility of PIX and the security of modern banking technology. Absolute financial simplicity.",
        start_now: "Start Now",
        simple_experience: "Simple Experience",
        real_time_transactions: "Real-time points transactions, no bureaucracy.",
        step1_title: "Create your account",
        step1_desc: "Sign up in seconds and get immediate access to your smart wallet.",
        step2_title: "Receive Points",
        step2_desc: "Receive from partners or convert balance via PIX with minimal fees.",
        step3_title: "Pay with freedom",
        step3_desc: "Use your points throughout the ecosystem with a single click.",
        why_pointify: "Why Pointify?",
        extreme_speed: "Extreme Speed",
        speed_desc: "Synchronous processing to ensure your points arrive on time.",
        total_transparency: "Total Transparency",
        transparency_desc: "Detailed statements with full traceability of each transaction.",
        elite_security: "Elite Security",
        security_desc: "Banking-level encryption and authentication protocols.",
        premium_experience: "Premium Experience",
        minimalism_success: "Minimalism for your financial success",
        terms: "Terms",
        privacy: "Privacy",
        support: "Support",
        all_rights_reserved: "All rights reserved.",
        transaction_alerts: "Transaction Alerts",
        transaction_alerts_desc: "Receive push notifications for every entry/exit",
        news_tips: "News & Tips",
        news_tips_desc: "Promotions and new partners",
        monthly_report: "Monthly Report",
        monthly_report_desc: "Summary of your statement by email",
        main_language: "Main Language",
        reference_currency: "Reference Currency",
        send_points_title: "Send Points",
        recipient_data: "Recipient Data",
        email_or_id: "Email or User ID",
        amount_in_points: "Amount in Points",
        available_balance_label: "Available balance",
        description_optional: "Description (optional)",
        payment_purpose: "What is this payment for?",
        continue_to_review: "Continue to review",
        confirm_send: "Confirm Send",
        you_are_sending: "You are sending",
        to: "To",
        processing_fee: "Processing fee",
        transaction_date: "Transaction date",
        confirm_and_send: "Confirm and Send",
        back_and_edit: "Back and Edit",
        send_completed: "Send completed!",
        transaction_success: "Your transaction of {amount} pts was processed successfully.",
        receipt: "Receipt",
        back_to_start: "Back to start",
        pay_bills: "Pay Bills",
        bills: "Bills",
        pay_titles: "Pay titles",
        pix_keys: "PIX Keys",
        keys: "Keys",
        payment_links: "Payment Links",
        welcome_back: "Welcome back",
        login_desc: "Enter your credentials to access your wallet",
        forgot_password: "Forgot password?",
        no_account: "Don't have an account?",
        sign_in: "Sign in",
        full_name: "Full name",
        your_name: "Your name",
        confirm_password: "Confirm",
        agree_terms: "By signing up, you agree to our Terms and Privacy Policy.",
        already_have_account: "Already have an account?",
        back_to_home: "Back to Home",
        passwords_dont_match: "Passwords don't match!",
        entry: "Entry",
        exit: "Exit",
        receive_points: "Receive Points",
        scan_qr_desc: "Ask the payer to scan this QR Code to send points instantly.",
        share_qr: "Share QR Code",
        your_id: "Your Pointify ID",
        copied_success: "Copied successfully!",
        how_to_receive: "How to receive?",
        receive_step1: "Share your ID or QR Code.",
        receive_step2: "The payer enters the data and confirms the send.",
        receive_step3: "Points arrive in your account in real time.",
        receive_step4: "We will notify you as soon as the balance arrives.",
        copied: "Copied!",
        full_statement: "Full Statement",
        monitor_desc: "Monitor every detail of your wallet",
        export_pdf: "Export PDF",
        search_tx: "Search transaction...",
        all: "All",
        entries: "Entries",
        exits: "Exits",
        filters: "Filters",
        transaction: "Transaction",
        status: "Status",
        value: "Value",
        date_from: "From",
        date_to: "To",
        apply_filters: "Apply Filters",
        reset: "Reset",
        date: "Date",
        create_link: "Create Link",
        help: "Help",
        settings_label: "Settings",
        payment_links_desc: "Create links and receive in DePix",
        min_max: "Min: R$ 20,00 | Max: R$ 3.000,00",

        // Registration
        reg_step1_label: "Identification",
        reg_step2_label: "Email Access",
        reg_step3_label: "Verification",
        reg_step4_label: "Final Steps",
        step_indicator: "Step {current} / {total}",
        reg_protocol_subtitle: "Pointify Network Access Protocol",
        continue: "Continue",
        back: "Back",
        connection_error: "Connection failed.",
        send_code_error: "Error sending code.",
        create_account_error: "Error creating account.",
        protocol_created: "Protocol Created",
        wait_approval: "Wait a few minutes. We are approving your account.",
        access_denied: "Access Denied",
        multiple_failures: "Multiple failures detected. Please wait.",
        reg_title_step1: "Start Here",
        reg_title_step2: "Check Email",
        reg_title_step3: "Finalize",
        reg_name_label: "Full Name",
        reg_name_ph: "EX: JOHN DOE",
        reg_email_label: "Main Identifier (Email)",
        reg_email_ph: "YOUR@EMAIL.COM",
        reg_phone_label: "Phone / WhatsApp",
        reg_phone_ph: "(00) 00000-0000",
        reg_code_label: "Verification Code",
        reg_code_ph: "000000",
        reg_sent_to: "Sent to:",
        reg_change_email: "Change Email",
        reg_instagram_label: "Instagram (Social Media)",
        reg_instagram_ph: "@YOUR.PROFILE",
        reg_pass_label: "Access Key",
        reg_pass_ph: "••••••••",
        reg_confirm_pass_label: "Confirm Key",
        reg_confirm_pass_ph: "••••••••",
        reg_btn_send: "Send Code",
        reg_btn_sending: "Sending...",
        reg_btn_verify: "Validate Code",
        reg_btn_verifying: "Verifying...",
        reg_btn_create: "Create Pointify Identity",
        reg_btn_creating: "Creating Protocol...",
        reg_compliance_text: "By protocoling this registration, you assume full responsibility for operations and agree to Pointify Global compliance guidelines.",
        reg_error_fields: "Fill in all required fields.",
        reg_error_email_use: "This email is already in use.",
        reg_error_code_invalid: "Invalid or expired code.",
        reg_error_pass_match: "Passwords do not match.",
        reg_success_code_sent: "Code sent! Check your email.",
        reg_success_verified: "Email verified successfully!",
        reg_alert_title: "Attention",
        reg_success_title: "Success",
        payment_value: "Payment Value",
        payment_quantity: "Payment Quantity",
        link_closed_after: "The link will be closed after this quantity",
        my_links: "My Links",
        links_created: "{count} links created",
        no_links_yet: "No links created yet",
        create_first_link_desc: "Create your first payment link above",
        summary: "Summary",
        links_active: "Active Links",
        total_received: "Total Received",
        fiscal_report: "Fiscal Report",
        fiscal_report_desc: "View Fiscal Report",
        operational_stable: "OPERATIONAL_STABLE",
        risk_assessment_desc: "Operational status and risk assessment",
        new_profile: "New Profile",
        total_points: "TOTAL POINTS",
        approve: "APPROVE",
        terminate: "TERMINATE",
        session_secure: "Secure Session",
        security_title: "Security",
        custody_subtitle: "Your funds, your custody",
        custody_desc: "Unlike centralized exchanges, you maintain full control of your assets. We are just the bridge — we never hold your funds.",
        no_central_custody_title: "No centralized custody",
        no_central_custody_desc: "Stablecoins are sent directly to your wallet address. You configure, you control.",
        on_chain_transparency_title: "On-chain transparency",
        on_chain_transparency_desc: "All transactions are verifiable on the blockchain. You can audit every movement.",
        no_counterparty_risk_title: "No counterparty risk",
        no_counterparty_risk_desc: "We do not hold client balances. This eliminates risks of hacks, insolvency, or frozen funds.",
        // ── Swap
        swap: "Swap",
        withdraw: "Withdraw",
        swap_title: "Swap",
        swap_subtitle: "Convert Points to Crypto",
        swap_rate: "Rate",
        swap_fee: "Fee",
        swap_from: "From",
        swap_to: "To",
        swap_min: "Minimum",
        swap_min_error: "Minimum amount is {min} PTS.",
        swap_balance_error: "Insufficient balance.",
        swap_wallet_error: "Enter a valid wallet address.",
        swap_network: "Network",
        swap_network_fee: "Fee",
        swap_wallet_label: "Destination Wallet",
        swap_wallet_ph: "ENTER WALLET ADDRESS",
        swap_fee_label: "Fee",
        swap_net: "Net",
        swap_continue: "Preview Swap",
        swap_review: "Swap Summary",
        swap_confirm_warning: "Verify the address carefully. Crypto transactions are irreversible.",
        swap_processing: "Processing...",
        swap_success_title: "Swap Completed",
        swap_converted: "converted",
        swap_delivery_time: "Up to 30 min",
        swap_new: "New Swap",
        swap_security_note: "Transactions are non-custodial. Always check the destination address before confirming.",
    },
    pt: {
        dashboard: "Painel",
        send: "Enviar",
        receive: "Receber",

        // Registration
        reg_step1_label: "Identificação",
        reg_step2_label: "Acesso Email",
        reg_step3_label: "Verificação",
        reg_step4_label: "Etapas Finais",
        step_indicator: "Etapa {current} / {total}",
        reg_protocol_subtitle: "Protocolo de Acesso Pointify Network",
        continue: "Continuar",
        back: "Voltar",
        connection_error: "Falha na conexão.",
        send_code_error: "Erro ao enviar código.",
        create_account_error: "Erro ao criar conta.",
        protocol_created: "Protocolo Criado",
        wait_approval: "Aguarde alguns minutos. Vamos aprovar a sua conta.",
        access_denied: "Acesso Negado",
        multiple_failures: "Múltiplas falhas detectadas. Aguarde.",
        reg_title_step1: "Comece Aqui",
        reg_title_step2: "Confira o Email",
        reg_title_step3: "Finalizar",
        reg_name_label: "Nome Completo",
        reg_name_ph: "EX: KAI OTSUNOKAWA",
        reg_email_label: "Identificador Principal (Email)",
        reg_email_ph: "SEU@EMAIL.COM",
        reg_phone_label: "Telefone / WhatsApp",
        reg_phone_ph: "(00) 00000-0000",
        reg_code_label: "Código de Verificação",
        reg_code_ph: "000000",
        reg_sent_to: "Enviado para:",
        reg_change_email: "Trocar E-mail",
        reg_instagram_label: "Instagram (Rede Social)",
        reg_instagram_ph: "@SEU.PERFIL",
        reg_pass_label: "Chave de Acesso",
        reg_pass_ph: "••••••••",
        reg_confirm_pass_label: "Confirmar Chave",
        reg_confirm_pass_ph: "••••••••",
        reg_btn_send: "Enviar Código",
        reg_btn_sending: "Enviando...",
        reg_btn_verify: "Validar Código",
        reg_btn_verifying: "Verificando...",
        reg_btn_create: "Criar Identidade Pointify",
        reg_btn_creating: "Criando Protocolo...",
        reg_compliance_text: "Ao protocolar este registro, você assume total responsabilidade pelas operações e concorda com as diretrizes de compliance da Pointify Global.",
        reg_error_fields: "Preencha todos os campos obrigatórios.",
        reg_error_email_use: "Este e-mail já está em uso.",
        reg_error_code_invalid: "Código inválido ou expirado.",
        reg_error_pass_match: "As senhas não coincidem.",
        reg_success_code_sent: "Código enviado! Verifique seu e-mail.",
        reg_success_verified: "E-mail verificado com sucesso!",
        reg_alert_title: "Atenção",
        reg_success_title: "Sucesso",
        history: "Extrato",
        settings: "Ajustes",
        profile: "Perfil",
        available_balance: "Saldo Disponível",
        reserved_balance: "Saldo Reservado",
        recent_transactions: "Últimas Transações",
        quick_actions: "Ações Rápidas",
        send_points: "Enviar Pontos",
        buy: "Comprar",
        view_all: "Ver todas",
        cashback_program: "Programa de Cashback",
        welcome: "Bem-vindo",
        operational_system: "Sistema Operacional",
        premium_user: "Usuário Premium",
        logout: "Sair do sistema",
        send_pix: "Enviar PIX",
        points_to_cash: "Pontos em Dinheiro",
        schedule: "Agendar",
        future_payments: "Futuros Pagamentos",
        cashback_ready: "Você tem 350 pontos prontos para resgate.",
        view_details: "Ver Detalhes",
        admin_panel: "Painel Admin",
        administration: "Administração",
        managing_director: "Sócio Diretor",
        command_center: "Centro de Controle",
        admin_shield_status: "Infraestrutura: Ativa e Protegida",
        admin_overview: "Visão Geral",
        admin_members: "Membros",
        admin_movements: "Movimentações",
        admin_fees: "Taxas",
        admin_audit: "Auditoria",
        admin_reject: "Reprovar",
        admin_confirm_terminate: "Confirmar Encerramento",
        admin_confirm_reject: "Confirmar Reprovação",
        admin_terminate_warning: "Esta ação encerrará permanentemente a conta. O usuário será removido da plataforma e não poderá recuperar o acesso.",
        admin_reject_warning: "O usuário será bloqueado e seu status KYC será marcado como REPROVADO. Ele não poderá mais usar a plataforma.",
        admin_type_to_confirm: "Digite o nome para confirmar",
        cancel: "Cancelar",
        processing: "Processando...",
        overview: "Visão Geral",
        members: "Membros",
        financial_ledger: "Livro Financeiro",
        auditing: "Auditoria",
        gross_volume: "Volume Bruto (GMV)",
        revenue_spread: "Receita (Spread)",
        avg_ticket: "Ticket Médio",
        daily_flow: "Liquidado Hoje",
        sales_performance: "Fluxo de Performance de Vendas",
        sales_desc: "Volume consolidado por método de captura",
        conversion_rate: "Taxa de Conversão",
        payment_efficiency: "Eficiência de Pagamento",
        export_ledger: "Exportar Ledger",
        search_accounts: "Buscar contas...",
        risk_status: "Status de Risco",
        available_balance_admin: "Saldo Disponível",
        actions: "Ações",
        pix_instant: "Liquidação Instantânea",
        boleto_d2: "Liquidação D+2",
        pointify_links: "Links Pointify",
        backoffice: "Backoffice",
        users: "Usuários",
        finances: "Finanças",
        operational_system_label: "SISTEMA OPERACIONAL",
        main_menu_label: "MENU PRINCIPAL",
        logout_label: "Encerrar Sessão",
        total_control: "Controle Total",
        active_status: "Ativo",
        admin_root: "Admin Root",
        pointify_user: "Usuário Pointify",
        online_now: "Visto agora",
        seen_days_ago: "Há 2 dias",
        revoke: "Revogar",
        notifications: "Notificações",
        lang_region: "Idioma & Região",
        connected_devices: "Dispositivos Conectados",
        discard: "Descartar",
        save_preferences: "Salvar Preferências",
        how_it_works: "Como Funciona",
        benefits: "Benefícios",
        for_whom: "Para Quem",
        login: "Entrar",
        create_account: "Criar Conta",
        platform_points: "Plataforma de Pagamentos por Pontos",
        future_is_points: "O futuro do dinheiro é baseado em pontos.",
        hero_desc: "Converta, envie e receba pontos com a agilidade do PIX e a segurança da tecnologia bancária moderna. Simplicidade financeira absoluta.",
        start_now: "Começar Agora",
        simple_experience: "Experiência Simples",
        real_time_transactions: "Transações de pontos em tempo real, sem burocracia.",
        step1_title: "Crie sua conta",
        step1_desc: "Cadastre-se em segundos e tenha acesso imediato à sua carteira inteligente.",
        step2_title: "Receba Pontos",
        step2_desc: "Receba de parceiros ou converta saldo via PIX com taxas mínimas.",
        step3_title: "Pague com liberdade",
        step3_desc: "Utilize seus pontos em todo o ecossistema com um clique.",
        why_pointify: "Por que Pointify?",
        extreme_speed: "Rapidez Extrema",
        speed_desc: "Processamento síncrono para garantir que seus pontos cheguem na hora.",
        total_transparency: "Transparência Total",
        transparency_desc: "Extratos detalhados com rastreabilidade completa de cada transação.",
        elite_security: "Segurança de Elite",
        security_desc: "Protocolos de criptografia e autenticação de nível bancário.",
        premium_experience: "Experiência Premium",
        minimalism_success: "Minimalismo para o seu sucesso financeiro",
        terms: "Termos",
        privacy: "Privacidade",
        support: "Suporte",
        all_rights_reserved: "Todos os direitos reservados.",
        transaction_alerts: "Alertas de transação",
        transaction_alerts_desc: "Receba push a cada entrada/saída",
        news_tips: "Novidades e Dicas",
        news_tips_desc: "Promoções e novos parceiros",
        monthly_report: "Relatório Mensal",
        monthly_report_desc: "Resumo do seu extrato por email",
        main_language: "Idioma Principal",
        reference_currency: "Moeda de Referência",
        send_points_title: "Enviar Pontos",
        recipient_data: "Dados do destinatário",
        email_or_id: "Email ou ID do usuário",
        amount_in_points: "Valor em pontos",
        available_balance_label: "Saldo disponível",
        description_optional: "Descrição (opcional)",
        payment_purpose: "Para que serve este pagamento?",
        continue_to_review: "Continuar para revisão",
        confirm_send: "Confirmar Envio",
        you_are_sending: "Você está enviando",
        to: "Para",
        processing_fee: "Taxa de processamento",
        transaction_date: "Data da transação",
        confirm_and_send: "Confirmar e Enviar",
        back_and_edit: "Voltar e Editar",
        send_completed: "Envio concluído!",
        transaction_success: "Sua transação de {amount} pts foi processada com sucesso.",
        receipt: "Comprovante",
        back_to_start: "Voltar ao início",
        pay_bills: "Pagar Boletos",
        bills: "Boletos",
        pay_titles: "Pagar títulos",
        pix_keys: "Chaves PIX",
        keys: "Chaves",
        payment_links: "Links de Pagamento",
        welcome_back: "Bem-vindo de volta",
        login_desc: "Insira suas credenciais para acessar sua carteira",
        forgot_password: "Esqueceu a senha?",
        no_account: "Não tem uma conta?",
        sign_in: "Entrar",
        full_name: "Nome completo",
        your_name: "Seu nome",
        confirm_password: "Confirmar",
        agree_terms: "Ao se cadastrar, você concorda com nossos Termos e Política de Privacidade.",
        already_have_account: "Já tem uma conta?",
        back_to_home: "Voltar para Home",
        passwords_dont_match: "As senhas não coincidem!",
        entry: "Entrada",
        exit: "Saída",
        receive_points: "Receber Pontos",
        scan_qr_desc: "Peça para o pagador escanear este QR Code para enviar pontos instantaneamente.",
        share_qr: "Compartilhar QR Code",
        your_id: "Seu ID Pointify",
        copied_success: "Copiado com sucesso!",
        how_to_receive: "Como receber?",
        receive_step1: "Compartilhe seu ID ou QR Code.",
        receive_step2: "O pagador insere os dados e confirma o envio.",
        receive_step3: "Os pontos caem na sua conta em tempo real.",
        receive_step4: "Notificaremos você assim que o saldo chegar.",
        copied: "Copiado!",
        full_statement: "Extrato Completo",
        monitor_desc: "Monitore cada detalhe da sua carteira",
        export_pdf: "Exportar PDF",
        search_tx: "Buscar transação...",
        all: "Tudo",
        entries: "Entradas",
        exits: "Saídas",
        filters: "Filtros",
        transaction: "Transação",
        status: "Status",
        value: "Valor",
        date_from: "De",
        date_to: "Até",
        apply_filters: "Aplicar Filtros",
        reset: "Limpar",
        date: "Data",
        create_link: "Criar Link",
        help: "Ajuda",
        settings_label: "Configurações",
        payment_links_desc: "Crie links e receba em DePix",
        min_max: "Min: R$ 20,00 | Max: R$ 3.000,00",
        payment_value: "Valor do Pagamento",
        payment_quantity: "Quantidade de Pagamentos",
        link_closed_after: "O link será fechado após esta quantidade",
        my_links: "Meus Links",
        links_created: "{count} links criados",
        no_links_yet: "Nenhum link criado ainda",
        create_first_link_desc: "Crie seu primeiro link de pagamento acima",
        summary: "Resumo",
        links_active: "Links Ativos",
        total_received: "Total Recebido",
        fiscal_report: "Relatório Fiscal",
        fiscal_report_desc: "Visualizar Relatório Fiscal",
        operational_stable: "OPERACIONAL_ESTÁVEL",
        risk_assessment_desc: "Status operacional e avaliação de risco",
        new_profile: "Novo Perfil",
        total_points: "TOTAL DE PONTOS",
        approve: "APROVAR",
        terminate: "ENCERRAR",
        session_secure: "Sessão Segura",
        security_title: "Segurança",
        custody_subtitle: "Seus fundos, sua custódia",
        custody_desc: "Diferente de exchanges centralizadas, você mantém controle total dos seus ativos. Nós somos apenas a ponte — nunca mantemos seus fundos.",
        no_central_custody_title: "Sem custódia centralizada",
        no_central_custody_desc: "Stablecoins são enviadas diretamente para o endereço da sua wallet. Você configura, você controla.",
        on_chain_transparency_title: "Transparência on-chain",
        on_chain_transparency_desc: "Todas as transações são verificáveis na blockchain. Você pode auditar cada movimento.",
        no_counterparty_risk_title: "Sem riscos de contraparte",
        no_counterparty_risk_desc: "Não mantemos saldos de clientes. Isso elimina riscos de hacks, insolvência ou congelamento de fundos.",
        // ── Swap
        swap: "Swap",
        withdraw: "Pagamentos",
        swap_title: "Swap",
        swap_subtitle: "Converta Pontos em Cripto",
        swap_rate: "Taxa de Câmbio",
        swap_fee: "Taxa",
        swap_from: "De",
        swap_to: "Para",
        swap_min: "Mínimo",
        swap_min_error: "O valor mínimo é {min} PTS.",
        swap_balance_error: "Saldo insuficiente.",
        swap_wallet_error: "Informe um endereço de carteira válido.",
        swap_network: "Rede",
        swap_network_fee: "Taxa de rede",
        swap_wallet_label: "Carteira de Destino",
        swap_wallet_ph: "INSIRA O ENDEREÇO DA CARTEIRA",
        swap_fee_label: "Taxa",
        swap_net: "Líquido",
        swap_continue: "Pré-visualizar Swap",
        swap_review: "Resumo do Swap",
        swap_confirm_warning: "Verifique o endereço com atenção. Transações cripto são irreversíveis.",
        swap_processing: "Processando...",
        swap_success_title: "Swap Concluído",
        swap_converted: "convertidos",
        swap_delivery_time: "Até 30 min",
        swap_new: "Novo Swap",
        swap_security_note: "As transações são não-custodiais. Sempre confira o endereço de destino antes de confirmar.",
    },
    es: {
        dashboard: "Panel",
        send: "Enviar",
        receive: "Recibir",

        // Registration
        reg_step1_label: "Identificación",
        reg_step2_label: "Acceso Email",
        reg_step3_label: "Verificación",
        reg_step4_label: "Pasos Finales",
        step_indicator: "Paso {current} / {total}",
        reg_protocol_subtitle: "Protocolo de Acceso Pointify Network",
        continue: "Continuar",
        back: "Volver",
        connection_error: "Fallo de conexión.",
        send_code_error: "Error al enviar código.",
        create_account_error: "Error al crear cuenta.",
        protocol_created: "Protocolo Creado",
        wait_approval: "Espere unos minutos. Estamos aprobando su cuenta.",
        access_denied: "Acceso Denegado",
        multiple_failures: "Múltiples fallos detectados. Espere.",
        reg_title_step1: "Comience Aquí",
        reg_title_step2: "Verifique Email",
        reg_title_step3: "Finalizar",
        reg_name_label: "Nombre Completo",
        reg_name_ph: "EJ: JUAN PÉREZ",
        reg_email_label: "Identificador Principal (Email)",
        reg_email_ph: "TU@EMAIL.COM",
        reg_phone_label: "Teléfono / WhatsApp",
        reg_phone_ph: "(00) 00000-0000",
        reg_code_label: "Código de Verificación",
        reg_code_ph: "000000",
        reg_sent_to: "Enviado a:",
        reg_change_email: "Cambiar Email",
        reg_instagram_label: "Instagram (Red Social)",
        reg_instagram_ph: "@TU.PERFIL",
        reg_pass_label: "Clave de Acceso",
        reg_pass_ph: "••••••••",
        reg_confirm_pass_label: "Confirmar Clave",
        reg_confirm_pass_ph: "••••••••",
        reg_btn_send: "Enviar Código",
        reg_btn_sending: "Enviando...",
        reg_btn_verify: "Validar Código",
        reg_btn_verifying: "Verificando...",
        reg_btn_create: "Crear Identidad Pointify",
        reg_btn_creating: "Creando Protocolo...",
        reg_compliance_text: "Al protocolizar este registro, asumes total responsabilidad por las operaciones y aceptas las directrices de cumplimiento de Pointify Global.",
        reg_error_fields: "Complete todos los campos obligatorios.",
        reg_error_email_use: "Este correo ya está en uso.",
        reg_error_code_invalid: "Código inválido o expirado.",
        reg_error_pass_match: "Las contraseñas no coinciden.",
        reg_success_code_sent: "¡Código enviado! Verifique su correo.",
        reg_success_verified: "¡Correo verificado con éxito!",
        reg_alert_title: "Atención",
        reg_success_title: "Éxito",
        history: "Historial",
        settings: "Ajustes",
        profile: "Perfil",
        available_balance: "Saldo Disponible",
        reserved_balance: "Saldo Reservado",
        recent_transactions: "Últimas Transacciones",
        quick_actions: "Acciones Rápidas",
        send_points: "Enviar Puntos",
        buy: "Comprar",
        view_all: "Ver todas",
        cashback_program: "Programa de Cashback",
        welcome: "Bienvenido",
        operational_system: "Sistema Operativo",
        premium_user: "Usuario Premium",
        logout: "Cerrar sesión",
        send_pix: "Enviar PIX",
        points_to_cash: "Puntos en Efectivo",
        schedule: "Agendar",
        future_payments: "Pagos Futuros",
        cashback_ready: "Tienes 350 puntos listos para canjear.",
        view_details: "Ver Detalles",
        admin_panel: "Panel Admin",
        administration: "Administración",
        managing_director: "Socio Director",
        command_center: "Centro de Control",
        admin_shield_status: "Infraestructura: Activa y Protegida",
        admin_overview: "Visión General",
        admin_members: "Miembros",
        admin_movements: "Movimientos",
        admin_fees: "Tarifas",
        admin_audit: "Auditoría",
        admin_reject: "Rechazar",
        admin_confirm_terminate: "Confirmar Cierre",
        admin_confirm_reject: "Confirmar Rechazo",
        admin_terminate_warning: "Esta acción cerrará permanentemente la cuenta. El usuario será eliminado de la plataforma y no podrá recuperar el acceso.",
        admin_reject_warning: "El usuario será bloqueado y su estado KYC se marcará como RECHAZADO. No podrá usar la plataforma.",
        admin_type_to_confirm: "Escriba el nombre para confirmar",
        cancel: "Cancelar",
        processing: "Procesando...",
        overview: "Visión General",
        members: "Miembros",
        financial_ledger: "Libro Financiero",
        auditing: "Auditoría",
        gross_volume: "Volumen Bruto (GMV)",
        revenue_spread: "Ingresos (Spread)",
        avg_ticket: "Ticket Promedio",
        daily_flow: "Liquidado Hoy",
        sales_performance: "Flujo de Rendimiento de Ventas",
        sales_desc: "Volumen consolidado por método de captura",
        conversion_rate: "Tasa de Conversión",
        payment_efficiency: "Eficiencia de Pago",
        export_ledger: "Exportar Ledger",
        search_accounts: "Buscar cuentas...",
        risk_status: "Estado de Riesgo",
        available_balance_admin: "Saldo Disponible",
        actions: "Acciones",
        pix_instant: "Liquidación Instantánea",
        boleto_d2: "Liquidación D+2",
        pointify_links: "Enlaces Pointify",
        backoffice: "Backoffice",
        users: "Usuarios",
        finances: "Finanzas",
        operational_system_label: "SISTEMA OPERATIVO",
        main_menu_label: "MENÚ PRINCIPAL",
        logout_label: "Cerrar Sesión",
        total_control: "Control Total",
        active_status: "Activo",
        admin_root: "Admin Root",
        pointify_user: "Usuario Pointify",
        online_now: "Visto ahora",
        seen_days_ago: "Hace 2 días",
        revoke: "Revocar",
        notifications: "Notificaciones",
        lang_region: "Idioma & Región",
        connected_devices: "Dispositivos Conectados",
        discard: "Descartar",
        save_preferences: "Guardar Preferencias",
        how_it_works: "Cómo Funciona",
        benefits: "Beneficios",
        for_whom: "Para Quién",
        login: "Entrar",
        create_account: "Crear Cuenta",
        platform_points: "Plataforma de Pagos por Puntos",
        future_is_points: "El futuro del dinero está basado en puntos.",
        hero_desc: "Convierte, envía y recibe puntos con la agilidad de PIX y la seguridad de la tecnología bancaria moderna. Simplicidad financiera absoluta.",
        start_now: "Empezar Ahora",
        simple_experience: "Experiencia Simple",
        real_time_transactions: "Transacciones de puntos en tiempo real, sin burocracia.",
        step1_title: "Crea tu cuenta",
        step1_desc: "Regístrate en segundos y obtén acceso inmediato a tu billetera inteligente.",
        step2_title: "Recibe Puntos",
        step2_desc: "Recibe de socios o convierte saldo vía PIX con tasas mínimas.",
        step3_title: "Paga con libertad",
        step3_desc: "Utiliza tus puntos en todo el ecosistema con un solo clic.",
        why_pointify: "¿Por qué Pointify?",
        extreme_speed: "Rapidez Extrema",
        speed_desc: "Procesamiento síncrono para garantir que tus puntos lleguen a tiempo.",
        total_transparency: "Transparencia Total",
        transparency_desc: "Extractos detallados con trazabilidad completa de cada transacción.",
        elite_security: "Seguridad de Élite",
        security_desc: "Protocolos de criptografía y autenticación de nivel bancario.",
        premium_experience: "Experiencia Premium",
        minimalism_success: "Minimalismo para tu éxito financiero",
        terms: "Términos",
        privacy: "Privacidad",
        support: "Soporte",
        all_rights_reserved: "Todos los derechos reservados.",
        transaction_alerts: "Alertas de transacción",
        transaction_alerts_desc: "Recibe push a cada entrada/salida",
        news_tips: "Novedades y Consejos",
        news_tips_desc: "Promociones e nuevos socios",
        monthly_report: "Reporte Mensual",
        monthly_report_desc: "Resumen de su extracto por email",
        main_language: "Idioma Principal",
        reference_currency: "Moneda de Referencia",
        send_points_title: "Enviar Puntos",
        recipient_data: "Datos del destinatario",
        email_or_id: "Email o ID del usuario",
        amount_in_points: "Valor en puntos",
        available_balance_label: "Saldo disponible",
        description_optional: "Descripción (opcional)",
        payment_purpose: "¿Para qué sirve este pago?",
        continue_to_review: "Continuar para revisión",
        confirm_send: "Confirmar Envío",
        you_are_sending: "Estás enviando",
        to: "Para",
        processing_fee: "Tasa de procesamiento",
        transaction_date: "Fecha de la transacción",
        confirm_and_send: "Confirmar y Enviar",
        back_and_edit: "Volver y Editar",
        send_completed: "¡Envío completado!",
        transaction_success: "Su transacción de {amount} pts fue procesada con éxito.",
        receipt: "Comprobante",
        back_to_start: "Volver al inicio",
        pay_bills: "Pagar Facturas",
        bills: "Facturas",
        pay_titles: "Pagar títulos",
        pix_keys: "Claves PIX",
        keys: "Claves",
        payment_links: "Links de Pago",
        welcome_back: "Bienvenido de nuevo",
        login_desc: "Ingrese sus credenciales para acceder a su billetera",
        forgot_password: "¿Olvidó su contraseña?",
        no_account: "¿No tiene una cuenta?",
        sign_in: "Entrar",
        full_name: "Nombre completo",
        your_name: "Su nombre",
        confirm_password: "Confirmar",
        agree_terms: "Al registrarse, acepta nuestros Términos y Política de Privacidad.",
        already_have_account: "¿Ya tiene una cuenta?",
        back_to_home: "Volver a Inicio",
        passwords_dont_match: "¡Las contraseñas no coinciden!",
        entry: "Entrada",
        exit: "Salida",
        receive_points: "Recibir Puntos",
        scan_qr_desc: "Pida al pagador que escanee este código QR para enviar puntos al instante.",
        share_qr: "Compartir código QR",
        your_id: "Tu ID de Pointify",
        copied_success: "¡Copiado con éxito!",
        how_to_receive: "¿Cómo recibir?",
        receive_step1: "Comparte tu ID o código QR.",
        receive_step2: "El pagador ingresa los datos y confirma el envío.",
        receive_step3: "Los puntos llegan a tu cuenta en tiempo real.",
        receive_step4: "Le notificaremos tan pronto como llegue el saldo.",
        copied: "¡Copiado!",
        full_statement: "Extracto Completo",
        monitor_desc: "Monitorea cada detalle de tu billetera",
        export_pdf: "Exportar PDF",
        search_tx: "Buscar transacción...",
        all: "Todo",
        entries: "Entradas",
        exits: "Salidas",
        filters: "Filtros",
        transaction: "Transacción",
        status: "Estado",
        value: "Valor",
        date_from: "Desde",
        date_to: "Hasta",
        apply_filters: "Aplicar Filtros",
        reset: "Limpiar",
        date: "Fecha",
        create_link: "Crear Link",
        help: "Ayuda",
        settings_label: "Configuraciones",
        payment_links_desc: "Crea links y recibe en DePix",
        min_max: "Mín: R$ 20,00 | Máx: R$ 3.000,00",
        payment_value: "Valor del Pago",
        payment_quantity: "Cantidad de Pagos",
        link_closed_after: "El link se cerrará después de esta cantidad",
        my_links: "Mis Links",
        links_created: "{count} links creados",
        no_links_yet: "Ningún link creado todavía",
        create_first_link_desc: "Crea tu primer link de pago arriba",
        summary: "Resumen",
        links_active: "Links Activos",
        total_received: "Total Recibido",
        fiscal_report: "Informe Fiscal",
        fiscal_report_desc: "Ver Informe Fiscal",
        operational_stable: "OPERACIONAL_ESTABLE",
        risk_assessment_desc: "Estado operativo y evaluación de riesgos",
        new_profile: "Nuevo Perfil",
        total_points: "TOTAL DE PUNTOS",
        approve: "APROBAR",
        terminate: "TERMINAR",
        session_secure: "Sesión Segura",
        security_title: "Seguridad",
        custody_subtitle: "Sus fondos, su custodia",
        custody_desc: "A diferencia de los intercambios centralizados, usted mantiene el control total de sus activos. Somos solo el puente: nunca retenemos sus fondos.",
        no_central_custody_title: "Sin custodia centralizada",
        no_central_custody_desc: "Las stablecoins se envían directamente a la dirección de su billetera. Usted configura, usted controla.",
        on_chain_transparency_title: "Transparencia on-chain",
        on_chain_transparency_desc: "Todas las transacciones son verificables en la blockchain. Puede auditar cada movimiento.",
        no_counterparty_risk_title: "Sin riesgo de contraparte",
        no_counterparty_risk_desc: "No mantenemos saldos de clientes. Esto elimina riesgos de hacks, insolvencia o congelación de fondos.",
        // ── Swap
        swap: "Swap",
        withdraw: "Pagos",
        swap_title: "Swap",
        swap_subtitle: "Convierte Puntos en Cripto",
        swap_rate: "Tipo de Cambio",
        swap_fee: "Tasa",
        swap_from: "De",
        swap_to: "Para",
        swap_min: "Mínimo",
        swap_min_error: "El monto mínimo es {min} PTS.",
        swap_balance_error: "Saldo insuficiente.",
        swap_wallet_error: "Ingrese una dirección de billetera válida.",
        swap_network: "Red",
        swap_network_fee: "Tarifa de red",
        swap_wallet_label: "Billetera de Destino",
        swap_wallet_ph: "INGRESE DIRECCIÓN DE BILLETERA",
        swap_fee_label: "Tarifa",
        swap_net: "Neto",
        swap_continue: "Vista Previa del Swap",
        swap_review: "Resumen del Swap",
        swap_confirm_warning: "Verifique la dirección con cuidado. Las transacciones cripto son irreversibles.",
        swap_processing: "Procesando...",
        swap_success_title: "Swap Completado",
        swap_converted: "convertidos",
        swap_delivery_time: "Hasta 30 min",
        swap_new: "Nuevo Swap",
        swap_security_note: "Las transacciones son no custodiales. Siempre verifique la dirección de destino antes de confirmar.",
    },
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export function LanguageProvider({ children }: { children: React.ReactNode }) {
    const [language, setLanguage] = useState<Language>("pt");

    useEffect(() => {
        const saved = localStorage.getItem("language") as Language;
        if (saved && (saved === "en" || saved === "pt" || saved === "es")) {
            setLanguage(saved);
        }
    }, []);

    const handleSetLanguage = (lang: Language) => {
        setLanguage(lang);
        localStorage.setItem("language", lang);
    };

    const t = (key: string) => {
        return translations[language][key as keyof (typeof translations)["en"]] || key;
    };

    return (
        <LanguageContext.Provider value={{ language, setLanguage: handleSetLanguage, t }}>
            {children}
        </LanguageContext.Provider>
    );
}

export function useLanguage() {
    const context = useContext(LanguageContext);
    if (context === undefined) {
        throw new Error("useLanguage must be used within a LanguageProvider");
    }
    return context;
}
